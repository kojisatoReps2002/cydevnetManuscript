【アプリの親子関係について - その2】(2016/08/29)

前回の記事(リンク)では、kintone における親子関係について、アプリストアの「商品見積書パック」を例に、便宜的な呼び方としての「同居親子関係」「独立親子関係」それぞれ実際のデータを見ながら、どのような振る舞いとなるかの考察と確認を行って参りました。

今回は引き続き「商品見積書パック」を例に「独立親子関係」の表現を補完する働きを持つ「関連レコード一覧」の作用について確認を行い、その後見積明細情報について「同居親子関係」を解消し、独り立ちした時の振る舞いと、そこで有効になるスクリプトの例について説明をさせていただきたいと思います。

「関連レコード一覧」とは「自アプリを含むアプリとアプリの間において、設定した二つの項目が持つ、値の一致性を利用して、kintone 内にある情報を一覧して表示する機能」となります。文章にすると分かりにくなりますが「商品見積書パック」を例にしますと、例えば「商品リスト」アプリ上に「見積参照一覧」を作成する、つまりその商品がどの見積で参照されているかを表示する機能となります。

ただし「関連レコード一覧」では、設定できる項目及び項目間に対して、いつくかの制約条件があり、この場合、見積もり明細が「テーブルフィールド」として実装されているため、その中にある「型番」は指定不可となります。

※関連レコードとして定義できるフィールド間の条件
https://help.cybozu.com/ja/k/user/display_relatedrecords.html

繰り返しになりますが「同居親子関係」として「テーブルフィールド」に設定された項目は、一覧(ビュー)上への表示だったり、分類や集計として指定したりする事が可能な点は「その1」でも記載しましたが、上記リンク先に記載の表にある通り「関連レコード」の対象とすることができないということになります。

また、「同居親子関係」の「子」については、上記「関連レコード一覧」の項目として指定できないこと以外に、標準の機能では、csvアップロードの対象とはならないことも注意が必要です。もちろん、カスタマイズによって対応することは可能で、その場合は、以下の記事が参考になるかと思います。

https://cybozudev.zendesk.com/hc/ja/articles/208399613
















